---
import { getYouTubeVideos } from '../utils/youtube'
import Layout from '../layouts/Layout.astro'
import SectionContainer from '@/layouts/SectionContainer.astro'
import Card from '@/components/Card.astro'

const videos = await getYouTubeVideos()
---

<Layout title="My YouTube Videos">
    <SectionContainer>
        <ul class="video-list">
            {
                videos.map((video) => (
                    <Card
                        href={`/video/${video.id.videoId}`}
                        title={video.snippet.title}
                        body={video.snippet.description}
                        imageSrc={video.snippet.thumbnails.medium.url}
                        imageAlt={video.snippet.title}
                        badge={`${new Date(video.snippet.publishedAt).toLocaleDateString()}`}
                    />
                ))
            }
        </ul>
    </SectionContainer>
</Layout>

<style>

    ul {
        display: grid;
        grid-auto-flow: row;
        gap: 2rem;
        padding: 0;
        width: 100%;
        max-width: 100%;
    }

</style>
