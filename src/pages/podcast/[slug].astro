---
import Layout from '../../layouts/Layout.astro';
import { getYouTubeVideoDetails, getStaticPaths } from '../../utils/youtube';

export { getStaticPaths };

const { slug } = Astro.params;
const video = await getYouTubeVideoDetails(slug);
---

<Layout title={video.snippet.title}>
    <main>
        <h1>{video.snippet.title}</h1>
        <p>{video.snippet.description}</p>
        <iframe
            width="560"
            height="315"
            src={`https://www.youtube.com/embed/${video.id}`}
            title={video.snippet.title}
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
        ></iframe>
    </main>
</Layout>
